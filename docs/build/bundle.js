!function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function u(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function a(e){let t;return u(e,e=>t=e)(),t}function s(e,t,n){e.$$.on_destroy.push(u(t,n))}function c(e,t){e.appendChild(t)}function l(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function d(e){return document.createElement(e)}function p(e){return document.createTextNode(e)}function m(){return p(" ")}function g(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function h(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function v(e){return""===e?void 0:+e}function y(e,t){t=""+t,e.data!==t&&(e.data=t)}function b(e,t){e.value=null==t?"":t}let w;function $(e){w=e}const x=[],T=[],M=[],j=[],_=Promise.resolve();let E=!1;function I(e){M.push(e)}let O=!1;const S=new Set;function k(){if(!O){O=!0;do{for(let e=0;e<x.length;e+=1){const t=x[e];$(t),N(t.$$)}for(x.length=0;T.length;)T.pop()();for(let e=0;e<M.length;e+=1){const t=M[e];S.has(t)||(S.add(t),t())}M.length=0}while(x.length);for(;j.length;)j.pop()();E=!1,O=!1,S.clear()}}function N(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(I)}}const A=new Set;function q(e,t){-1===e.$$.dirty[0]&&(x.push(e),E||(E=!0,_.then(k)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function R(i,u,a,s,c,l,d=[-1]){const p=w;$(i);const m=u.props||{},g=i.$$={fragment:null,ctx:null,props:l,update:e,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:[]),callbacks:n(),dirty:d};let h=!1;if(g.ctx=a?a(i,m,(e,t,...n)=>{const r=n.length?n[0]:t;return g.ctx&&c(g.ctx[e],g.ctx[e]=r)&&(g.bound[e]&&g.bound[e](r),h&&q(i,e)),t}):[],g.update(),h=!0,r(g.before_update),g.fragment=!!s&&s(g.ctx),u.target){if(u.hydrate){const e=function(e){return Array.from(e.childNodes)}(u.target);g.fragment&&g.fragment.l(e),e.forEach(f)}else g.fragment&&g.fragment.c();u.intro&&((v=i.$$.fragment)&&v.i&&(A.delete(v),v.i(y))),function(e,n,i){const{fragment:u,on_mount:a,on_destroy:s,after_update:c}=e.$$;u&&u.m(n,i),I(()=>{const n=a.map(t).filter(o);s?s.push(...n):r(n),e.$$.on_mount=[]}),c.forEach(I)}(i,u.target,u.anchor),k()}var v,y;$(p)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function U(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var D,P,L=U((function(e,t){!function(e){var t,n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,r=new WeakMap,o=(t=r,function(e,n){return t.set(e,n),n}),i=function(e,t){return function(r){var o=t.get(r),i=void 0===o?r.size:o<1073741824?o+1:0;if(!r.has(i))return e(r,i);if(r.size<536870912){for(;r.has(i);)i=Math.floor(1073741824*Math.random());return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}}(o,r),u=function(e){return function(t){var n=e(t);return t.add(n),n}}(i);e.addUniqueNumber=u,e.generateUniqueNumber=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)}(P={path:D,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&P.path)}},P.exports),P.exports));let C=null;const z=((e,t)=>()=>{if(null!==C)return C;const n=new Blob([t],{type:"application/javascript; charset=utf-8"}),r=URL.createObjectURL(n);return C=e(r),C.setTimeout(()=>URL.revokeObjectURL(r),0),C})(e=>{const t=new Map([[0,()=>{}]]),n=new Map([[0,()=>{}]]),r=new Map,o=new Worker(e);o.addEventListener("message",({data:e})=>{if(void 0!==(o=e).method&&"call"===o.method){const{params:{timerId:o,timerType:i}}=e;if("interval"===i){const e=t.get(o);if("number"==typeof e){const t=r.get(e);if(void 0===t||t.timerId!==o||t.timerType!==i)throw new Error("The timer is in an undefined state.")}else{if(void 0===e)throw new Error("The timer is in an undefined state.");e()}}else if("timeout"===i){const e=n.get(o);if("number"==typeof e){const t=r.get(e);if(void 0===t||t.timerId!==o||t.timerType!==i)throw new Error("The timer is in an undefined state.")}else{if(void 0===e)throw new Error("The timer is in an undefined state.");e(),n.delete(o)}}}else{if(!(e=>null===e.error&&"number"==typeof e.id)(e)){const{error:{message:t}}=e;throw new Error(t)}{const{id:o}=e,i=r.get(o);if(void 0===i)throw new Error("The timer is in an undefined state.");const{timerId:u,timerType:a}=i;r.delete(o),"interval"===a?t.delete(u):n.delete(u)}}var o});return{clearInterval:e=>{const n=L.generateUniqueNumber(r);r.set(n,{timerId:e,timerType:"interval"}),t.set(e,n),o.postMessage({id:n,method:"clear",params:{timerId:e,timerType:"interval"}})},clearTimeout:e=>{const t=L.generateUniqueNumber(r);r.set(t,{timerId:e,timerType:"timeout"}),n.set(e,t),o.postMessage({id:t,method:"clear",params:{timerId:e,timerType:"timeout"}})},setInterval:(e,n)=>{const r=L.generateUniqueNumber(t);return t.set(r,()=>{e(),"function"==typeof t.get(r)&&o.postMessage({id:null,method:"set",params:{delay:n,now:performance.now(),timerId:r,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:n,now:performance.now(),timerId:r,timerType:"interval"}}),r},setTimeout:(e,t)=>{const r=L.generateUniqueNumber(n);return n.set(r,e),o.postMessage({id:null,method:"set",params:{delay:t,now:performance.now(),timerId:r,timerType:"timeout"}}),r}}},'!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d}));const r=new Map,o=new Map,i=e=>{const t=r.get(e);if(void 0===t)throw new Error(\'There is no interval scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(t),r.delete(e)},u=e=>{const t=o.get(e);if(void 0===t)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(t),o.delete(e)},f=(e,t)=>{let n,r;if("performance"in self){const o=performance.now();n=o,r=e-Math.max(0,o-t)}else n=Date.now(),r=e;return{expected:n+r,remainingDelay:r}},c=(e,t,n,r)=>{const o="performance"in self?performance.now():Date.now();o>n?postMessage({id:null,method:"call",params:{timerId:t,timerType:r}}):e.set(t,setTimeout(c,n-o,e,t,n,r))},a=(e,t,n)=>{const{expected:o,remainingDelay:i}=f(e,n);r.set(t,setTimeout(c,i,r,t,o,"interval"))},d=(e,t,n)=>{const{expected:r,remainingDelay:i}=f(e,n);o.set(t,setTimeout(c,i,o,t,r,"timeout"))}},function(e,t,n){"use strict";n.r(t);var r=n(2);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(3);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(4);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o);var f=n(5);for(var o in f)"default"!==o&&function(e){n.d(t,e,(function(){return f[e]}))}(o);var c=n(6);for(var o in c)"default"!==o&&function(e){n.d(t,e,(function(){return c[e]}))}(o);var a=n(7);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);var d=n(8);for(var o in d)"default"!==o&&function(e){n.d(t,e,(function(){return d[e]}))}(o);var s=n(9);for(var o in s)"default"!==o&&function(e){n.d(t,e,(function(){return s[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(11);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(12);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(13);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var u=n(10);for(var i in u)"default"!==i&&function(e){n.d(t,e,(function(){return u[e]}))}(i);addEventListener("message",({data:e})=>{try{if("clear"===e.method){const{id:t,params:{timerId:n,timerType:o}}=e;if("interval"===o)Object(r.a)(n),postMessage({error:null,id:t});else{if("timeout"!==o)throw new Error(\'The given type "\'.concat(o,\'" is not supported\'));Object(r.b)(n),postMessage({error:null,id:t})}}else{if("set"!==e.method)throw new Error(\'The given method "\'.concat(e.method,\'" is not supported\'));{const{params:{delay:t,now:n,timerId:o,timerType:i}}=e;if("interval"===i)Object(r.c)(t,o,n);else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));Object(r.d)(t,o,n)}}}}catch(t){postMessage({error:{message:t.message},id:e.id,result:null})}})}]);'),B=(e,t)=>z().setInterval(e,t),F=[];function G(t,n=e){let r;const o=[];function u(e){if(i(t,e)&&(t=e,r)){const e=!F.length;for(let e=0;e<o.length;e+=1){const n=o[e];n[1](),F.push(n,t)}if(e){for(let e=0;e<F.length;e+=2)F[e][0](F[e+1]);F.length=0}}}return{set:u,update:function(e){u(e(t))},subscribe:function(i,a=e){const s=[i,a];return o.push(s),1===o.length&&(r=n(u)||e),i(t),()=>{const e=o.indexOf(s);-1!==e&&o.splice(e,1),0===o.length&&(r(),r=null)}}}}function H(t){let n,r,o;return{c(){n=d("button"),n.textContent="Stop",h(n,"class","svelte-gyjhj6")},m(e,i){l(e,n,i),r||(o=g(n,"click",t[15]),r=!0)},p:e,d(e){e&&f(n),r=!1,o()}}}function W(e){let t,n,o,i,u,a,s;return{c(){t=d("button"),n=p("Start"),o=m(),i=d("button"),u=p("Test (Play 3 beats)"),t.disabled=e[5],h(t,"class","svelte-gyjhj6"),i.disabled=e[5],h(i,"class","svelte-gyjhj6")},m(r,f){l(r,t,f),c(t,n),l(r,o,f),l(r,i,f),c(i,u),a||(s=[g(t,"click",e[14]),g(i,"click",e[16])],a=!0)},p(e,n){32&n&&(t.disabled=e[5]),32&n&&(i.disabled=e[5])},d(e){e&&f(t),e&&f(o),e&&f(i),a=!1,r(s)}}}function X(e){let t;function n(e,t){return e[3]>0?J:V}let r=n(e),o=r(e);return{c(){o.c(),t=p("")},m(e,n){o.m(e,n),l(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&f(t)}}}function V(e){let t,n,r;return{c(){t=d("div"),n=p("Stokes: "),r=p(e[2]),h(t,"class","font-mono")},m(e,o){l(e,t,o),c(t,n),c(t,r)},p(e,t){4&t&&y(r,e[2])},d(e){e&&f(t)}}}function J(e){let t,n,r;return{c(){t=d("div"),n=p("Ready? "),r=p(e[3])},m(e,o){l(e,t,o),c(t,n),c(t,r)},p(e,t){8&t&&y(r,e[3])},d(e){e&&f(t)}}}function K(e){let t,n,o,i,u,a,s,v,w,$,x,T,M,j,_,E,I,O,S,k,N,A,q,R,U,D,P,L,C,z,B;return{c(){t=d("div"),n=d("div"),o=d("label"),i=p("Minimum Duration\n                        "),u=d("input"),a=m(),s=d("div"),v=d("output"),w=p(e[8]),$=m(),x=d("div"),T=d("div"),M=d("label"),j=p("Maximum Duration\n                        "),_=d("input"),E=m(),I=d("div"),O=d("output"),S=p(e[9]),k=m(),N=d("div"),A=d("div"),q=d("label"),R=p("Strokes per Minute\n                        "),U=d("input"),D=m(),P=d("div"),L=d("output"),C=p(e[0]),h(u,"step","15"),h(u,"min","15"),h(u,"max","1800"),h(u,"type","range"),h(u,"class","svelte-gyjhj6"),h(n,"class","col-span-5"),h(v,"class","flex self-end"),h(s,"class","col-span-1 flex pb-1"),h(t,"class","grid grid-cols-6 gap-4"),h(_,"step","15"),h(_,"min","15"),h(_,"max","1800"),h(_,"type","range"),h(_,"class","svelte-gyjhj6"),h(T,"class","col-span-5"),h(O,"class","flex self-end"),h(I,"class","col-span-1 flex pb-1"),h(x,"class","grid grid-cols-6 gap-4"),h(U,"step","10"),h(U,"min","10"),h(U,"max","400"),h(U,"type","range"),h(U,"class","svelte-gyjhj6"),h(A,"class","col-span-5"),h(L,"class","flex self-end"),h(P,"class","col-span-1 flex pb-1"),h(N,"class","grid grid-cols-6 gap-4")},m(r,f){l(r,t,f),c(t,n),c(n,o),c(o,i),c(o,u),b(u,e[7]),c(t,a),c(t,s),c(s,v),c(v,w),l(r,$,f),l(r,x,f),c(x,T),c(T,M),c(M,j),c(M,_),b(_,e[6]),c(x,E),c(x,I),c(I,O),c(O,S),l(r,k,f),l(r,N,f),c(N,A),c(A,q),c(q,R),c(q,U),b(U,e[0]),c(N,D),c(N,P),c(P,L),c(L,C),z||(B=[g(u,"change",e[17]),g(u,"input",e[17]),g(_,"change",e[18]),g(_,"input",e[18]),g(U,"change",e[19]),g(U,"input",e[19])],z=!0)},p(e,t){128&t&&b(u,e[7]),256&t&&y(w,e[8]),64&t&&b(_,e[6]),512&t&&y(S,e[9]),1&t&&b(U,e[0]),1&t&&y(C,e[0])},d(e){e&&f(t),e&&f($),e&&f(x),e&&f(k),e&&f(N),z=!1,r(B)}}}function Q(t){let n,o,i,u,a,s,v,w,$,x,T,M,j,_,E,I,O,S,k=100*t[1]+"";function N(e,t){return e[4]?H:W}let A=N(t),q=A(t),R=t[4]&&X(t),U=!t[4]&&K(t);return{c(){n=d("div"),o=d("div"),i=d("div"),q.c(),u=m(),R&&R.c(),a=m(),U&&U.c(),s=m(),v=d("div"),w=d("div"),$=d("label"),x=p("Volume\n                    "),T=d("input"),M=m(),j=d("div"),_=d("output"),E=p(k),I=p("%"),h(T,"step","0.1"),h(T,"min","0"),h(T,"max","1"),h(T,"type","range"),h(T,"class","svelte-gyjhj6"),h(w,"class","col-span-5"),h(_,"class","flex self-end"),h(j,"class","col-span-1 flex pb-1"),h(v,"class","grid grid-cols-6 gap-4"),h(o,"class","grid grid-flow-row gap-4"),h(n,"class","container mx-auto px-4 py-4")},m(e,r){l(e,n,r),c(n,o),c(o,i),q.m(i,null),c(o,u),R&&R.m(o,null),c(o,a),U&&U.m(o,null),c(o,s),c(o,v),c(v,w),c(w,$),c($,x),c($,T),b(T,t[1]),c(v,M),c(v,j),c(j,_),c(_,E),c(_,I),O||(S=[g(T,"change",t[20]),g(T,"input",t[20])],O=!0)},p(e,[t]){A===(A=N(e))&&q?q.p(e,t):(q.d(1),q=A(e),q&&(q.c(),q.m(i,null))),e[4]?R?R.p(e,t):(R=X(e),R.c(),R.m(o,a)):R&&(R.d(1),R=null),e[4]?U&&(U.d(1),U=null):U?U.p(e,t):(U=K(e),U.c(),U.m(o,s)),2&t&&b(T,e[1]),2&t&&k!==(k=100*e[1]+"")&&y(E,k)},i:e,o:e,d(e){e&&f(n),q.d(),R&&R.d(),U&&U.d(),O=!1,r(S)}}}function Y(e,t,n){let r,o,i,u,c=G(180);s(e,c,e=>n(7,o=e));let l=G(900);s(e,l,e=>n(6,r=e));let f=100,d=.8,p=0,m=4,g=G("");s(e,g,e=>n(8,i=e));let h=G("");s(e,h,e=>n(9,u=e));let y,b=0,w=!1,$=!1;const x=new Howl({src:["assets/cum.mp3"]}),T=new Tone.Synth({oscillator:{type:"triangle",modulationType:"sine",modulationIndex:3,harmonicity:3.4},envelope:{attack:.001,decay:.1,sustain:.01,release:.1}}).toDestination(),M=()=>{T.triggerAttackRelease("A1","16n")},j=()=>{n(4,w=!0);const e=Math.random()*(r-o)+o;b=Math.round(e*f/60),y=B(function e(){return m>0?n(3,m-=1):n(2,p+=1),p===b?(x.play(),_()):m>0?T.triggerAttackRelease("C3","4n"):0===m&&0===p?T.triggerAttackRelease("C5","4n"):M(),e}(),60/f*1e3)},_=()=>{var e;n(4,w=!1),n(2,p=0),n(3,m=4),e=y,z().clearInterval(e)};return c.subscribe(()=>{if(o<=60)g.set(o+" seconds");else{const e=(o%60).toString().padStart(2,"0");g.set(`${Math.floor(o/60)}:${e} minutes`)}}),l.subscribe(()=>{if(r<=60)h.set(r+" seconds");else{const e=(r%60).toString().padStart(2,"0");h.set(`${Math.floor(r/60)}:${e} minutes`)}}),e.$$.update=()=>{1&e.$$.dirty&&f&&w&&(_(),j()),2&e.$$.dirty&&d&&Howler.volume(d),128&e.$$.dirty&&o>a(l)&&l.set(o),64&e.$$.dirty&&r<a(c)&&c.set(r)},[f,d,p,m,w,$,r,o,i,u,c,l,g,h,j,_,()=>{n(5,$=!0),b=3,y=B(function e(){return n(2,p+=1),M(),p===b&&(n(5,$=!1),_()),e}(),60/f*1e3)},function(){o=v(this.value),c.set(o)},function(){r=v(this.value),l.set(r)},function(){f=v(this.value),n(0,f)},function(){d=v(this.value),n(1,d)}]}new class extends class{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}{constructor(e){super(),R(this,e,Y,Q,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
